(()=>{var e={787:()=>{!function(e){var t=function(t){this._options={checkOnLoad:!1,resetOnEnd:!1,loopCheckTime:50,loopMaxNumber:5,baitClass:"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links",baitStyle:"width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;",debug:!1},this._var={version:"3.2.1",bait:null,checking:!1,loop:null,loopNumber:0,event:{detected:[],notDetected:[]}},void 0!==t&&this.setOption(t);var n=this,i=function(){setTimeout((function(){!0===n._options.checkOnLoad&&(!0===n._options.debug&&n._log("onload->eventCallback","A check loading is launched"),null===n._var.bait&&n._creatBait(),setTimeout((function(){n.check()}),1))}),1)};void 0!==e.addEventListener?e.addEventListener("load",i,!1):e.attachEvent("onload",i)};t.prototype._options=null,t.prototype._var=null,t.prototype._bait=null,t.prototype._log=function(e,t){console.log("[BlockAdBlock]["+e+"] "+t)},t.prototype.setOption=function(e,t){if(void 0!==t){var n=e;(e={})[n]=t}for(var i in e)this._options[i]=e[i],!0===this._options.debug&&this._log("setOption",'The option "'+i+'" he was assigned to "'+e[i]+'"');return this},t.prototype._creatBait=function(){var t=document.createElement("div");t.setAttribute("class",this._options.baitClass),t.setAttribute("style",this._options.baitStyle),this._var.bait=e.document.body.appendChild(t),this._var.bait.offsetParent,this._var.bait.offsetHeight,this._var.bait.offsetLeft,this._var.bait.offsetTop,this._var.bait.offsetWidth,this._var.bait.clientHeight,this._var.bait.clientWidth,!0===this._options.debug&&this._log("_creatBait","Bait has been created")},t.prototype._destroyBait=function(){e.document.body.removeChild(this._var.bait),this._var.bait=null,!0===this._options.debug&&this._log("_destroyBait","Bait has been removed")},t.prototype.check=function(e){if(void 0===e&&(e=!0),!0===this._options.debug&&this._log("check","An audit was requested "+(!0===e?"with a":"without")+" loop"),!0===this._var.checking)return!0===this._options.debug&&this._log("check","A check was canceled because there is already an ongoing"),!1;this._var.checking=!0,null===this._var.bait&&this._creatBait();var t=this;return this._var.loopNumber=0,!0===e&&(this._var.loop=setInterval((function(){t._checkBait(e)}),this._options.loopCheckTime)),setTimeout((function(){t._checkBait(e)}),1),!0===this._options.debug&&this._log("check","A check is in progress ..."),!0},t.prototype._checkBait=function(t){var n=!1;if(null===this._var.bait&&this._creatBait(),null===e.document.body.getAttribute("abp")&&null!==this._var.bait.offsetParent&&0!=this._var.bait.offsetHeight&&0!=this._var.bait.offsetLeft&&0!=this._var.bait.offsetTop&&0!=this._var.bait.offsetWidth&&0!=this._var.bait.clientHeight&&0!=this._var.bait.clientWidth||(n=!0),void 0!==e.getComputedStyle){var i=e.getComputedStyle(this._var.bait,null);!i||"none"!=i.getPropertyValue("display")&&"hidden"!=i.getPropertyValue("visibility")||(n=!0)}!0===this._options.debug&&this._log("_checkBait","A check ("+(this._var.loopNumber+1)+"/"+this._options.loopMaxNumber+" ~"+(1+this._var.loopNumber*this._options.loopCheckTime)+"ms) was conducted and detection is "+(!0===n?"positive":"negative")),!0===t&&(this._var.loopNumber++,this._var.loopNumber>=this._options.loopMaxNumber&&this._stopLoop()),!0===n?(this._stopLoop(),this._destroyBait(),this.emitEvent(!0),!0===t&&(this._var.checking=!1)):null!==this._var.loop&&!1!==t||(this._destroyBait(),this.emitEvent(!1),!0===t&&(this._var.checking=!1))},t.prototype._stopLoop=function(e){clearInterval(this._var.loop),this._var.loop=null,this._var.loopNumber=0,!0===this._options.debug&&this._log("_stopLoop","A loop has been stopped")},t.prototype.emitEvent=function(e){!0===this._options.debug&&this._log("emitEvent","An event with a "+(!0===e?"positive":"negative")+" detection was called");var t=this._var.event[!0===e?"detected":"notDetected"];for(var n in t)!0===this._options.debug&&this._log("emitEvent","Call function "+(parseInt(n)+1)+"/"+t.length),t.hasOwnProperty(n)&&t[n]();return!0===this._options.resetOnEnd&&this.clearEvent(),this},t.prototype.clearEvent=function(){this._var.event.detected=[],this._var.event.notDetected=[],!0===this._options.debug&&this._log("clearEvent","The event list has been cleared")},t.prototype.on=function(e,t){return this._var.event[!0===e?"detected":"notDetected"].push(t),!0===this._options.debug&&this._log("on",'A type of event "'+(!0===e?"detected":"notDetected")+'" was added'),this},t.prototype.onDetected=function(e){return this.on(!0,e)},t.prototype.onNotDetected=function(e){return this.on(!1,e)},e.BlockAdBlock=t,void 0===e.blockAdBlock&&(e.blockAdBlock=new t({checkOnLoad:!0,resetOnEnd:!0}))}(window)}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,n),s.exports}(()=>{"use strict";function e(){return window.apstag||function(e,t,n,i,o,s,r){function a(n,i){t[e]._Q.push([n,i])}t[e]||(t[e]={init:function(){a("i",arguments)},fetchBids:function(){a("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(s=n.createElement(i)).async=!0,s.src="//c.amazon-adsystem.com/aax2/apstag.js",(r=n.getElementsByTagName(i)[0]).parentNode.insertBefore(s,r))}("apstag",window,document,"script"),window.apstag}window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[];const t=()=>window.PWT,i=window.addEventListener;function o(){return window.console}function s(e){return Boolean(window.console&&window.console[e])}const r=(e,t)=>{if(!e||!t)return null;let n=null;return e.some((e=>e.getId()===t&&(n=e,!0))),n},a=(e,t)=>e&&t?r(e,t.getSlotElementId()):null;function d(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}function l(e,t){if(e&&e.eventCallbacks&&e.eventCallbacks[t])try{e.eventCallbacks[t]()}catch(e){}}function g(e){const t=typeof e;return null!=e&&("object"===t||"function"===t)}function c(e){return Array.from(e)}let u=null;function h(){return"mobile"===function(){if(null===u){const e=window.navigator.userAgent||"",t=window.screen.width||window.innerWidth;u="desktop",t<900&&(u="mobile"),e.match(/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/i)?u="tablet":e.match(/Mobile|iP(hone|od)|BlackBerry|IEMobile/i)&&(u="mobile")}return u}()}function p(e){const t=new RegExp("^(.*;)?\\s*"+e+"\\s*=(\\s*[^;]*)").exec(document.cookie);return t&&t[2]||""}let f=null,m=null;function v(e){const t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}function b(){return null===f&&(f="TRUE"===v("ads_debug").toUpperCase()||"1"===p("ads_debug")),f}function y(...e){b()&&s("info")&&o().info(...I(e,"INFO:"))}function w(...e){b()&&s("error")&&o().error(I(e,"ERROR:"))}function I(e,t,n){e=[].slice.call(e),t&&e.unshift(t);const i=n?"red":"#0cb";return e.unshift(`display: inline-block; color: #fff; background: ${i}; padding: 1px 4px; border-radius: 3px;`),e.unshift("%cAds-Manager"),e}const _={renderAdsOnInit:!1,bidderTimeout:2e3,bidders:{},adUnitChanges:()=>{},requestBidsCallback:()=>{}},C=function(){let e={},t=_;return{clear:function(){t={},e={}},getConfig:function(e,n){return e?function(e,t,n){const i=String(t).split(".");for(let t=0;t<i.length;t++)if(void 0===(e=e[i[t]]))return n;return e}(t,e,n):t},setConfig:function(n){"object"==typeof n?Object.keys(n).forEach((i=>{let o=n[i];"object"==typeof e[i]&&"object"==typeof o&&(o=Object.assign({},e[i],o)),t[i]=o})):w("setConfig options must be an object")},setDefaults:function(n){"object"==typeof n?(Object.assign(e,n),Object.assign(t,n)):w("defaults must be an object")},setConfigValue:function(e,n){if("string"!=typeof e||e.length<1)return void w("defaults must be an object");const i=String(e).split("."),o=i.length;let s=t;for(let e=0;e<o;e++)o-1===e?s[i[e]]=n:void 0===s[i[e]]&&(s[i[e]]={}),s=s[i[e]]}}}(),E="targeting",A="rgKey",S="renderAdsOnInit",k=1400;function x(e){const t=e.sizeMappings.sort((function(e){return Array.isArray(e[0][0])?e[0][0][0]:e[0][0]})).filter((function(e){return window.matchMedia(`(min-width: ${e[0][0]}px)`).matches})).pop();return t&&t[1]}function B(e){e.matches&&W().filter((function(e){return document.body.contains(e.element)&&e.sizeMappings&&e.sizeMappings.length&&!function(e){const t=x(e);return!(!t||!t.length)&&JSON.stringify(t)===JSON.stringify(e.sizes)}(e)})).forEach((e=>{e.sizes=x(e),e.resetGptSlot()}))}function T(e,t){window.dispatchEvent(new window.CustomEvent(e,{detail:t}))}function R(e){return{slotId:e.getSlotId(),performance:{adRequestStart:e.requestTimestamp,adViewableAt:Date.now(),actionAt:Date.now()},metadata:{lineItemId:e.lineItemId,creativeId:e.creativeId,creativeTemplateId:e.creativeTemplateId,advertiserId:e.advertiserId,isEmpty:e.isEmpty,rgKey:C.getConfig(A,null),experimentVariant:C.getConfig("targeting.experimentVariant",null),adCorrelationId:e.adCorrelationId}}}function z(e){e&&T("rgAdBidRequest",R(e))}class O{getName(){return"amazon"}getDisplayName(){return"Amazon"}init(){e().init({pubID:"d48a1f7a-417f-49a9-bb7f-fe32af3648db",adServer:"googletag",bidTimeout:C.getConfig("bidderTimeout",k)})}requestBids(t,n,i){const o=t.map((e=>({slotID:e.getId(),slotName:e.getAdUnitPath(),sizes:e.getSizes().filter((e=>Array.isArray(e)))}))).filter((({sizes:e})=>e.length));o.length?(t.forEach((e=>z(e))),e().fetchBids({slots:o,timeout:C.getConfig("bidderTimeout",k)},(()=>{y(`[${n}] [Amazon] Applying bids to [${o.map((e=>e.slotID)).join(", ")}].`),e().setDisplayBids(),i(this.getName(),n)}))):i(this.getName(),n)}removeBids(e){for(const t of e){const e=t.getSlot();e.getTargetingKeys().filter((e=>e.startsWith("amznb"))).forEach((t=>{e.clearTargeting(t)}))}}}class P{constructor(){this.placementCounter={}}getName(){return"opnwrp"}getDisplayName(){return"OpenWrap"}init(){}requestBids(e,n,i){var o;const s=window,r=null===(o=null==s?void 0:s.openwrap)||void 0===o?void 0:o.cmd;r&&r.push((()=>{let o="article";const r=C.getConfig(A,null);if(r)switch(r.split(":")[0]){case"PB":o="publication";break;case"AU":o="author";break;case"PT":o="question";break;case"AC":o="researcher";break;case"K":o="category";break;case"PJ":o="project"}s.openwrap_adagio_pagetype=o,s.openwrap_adagio_environment=h()?"mobile":"desktop";const a=e.filter((function(e){return e.getSlot()})),d=a.map((function(e){return e.getSlot()}));y("[OpenWrap] Requesting bids for ["+a.map((e=>e.getAdUnitPath())).join(",")+"].");const l=h()?"Mobile":"Desktop",g={};a.forEach((e=>{if(e.adLocation){g[e.getSlot().getAdUnitPath()]=`${e.adLocation}_${l}_Ad`;const t=e.getSlot().getSlotElementId(),n=this.placementCounter[e.adLocation]||1;s.openwrap_render_counters||(s.openwrap_render_counters={}),s.openwrap_render_counters[t]=n,this.placementCounter[e.adLocation]=n+1}}));const c=t().generateConfForGPT(d);c.forEach((e=>{g[e.adUnitId]&&(e.reverseLookup=e.adUnitId,e.adUnitId=g[e.adUnitId])})),"function"==typeof t().requestBids&&(a.forEach((e=>z(e))),t().requestBids(c,(e=>{y("[OpenWrap] Applying bids for slots ["+e.map((e=>e.reverseLookup)).join(",")+"]."),t().addKeyValuePairsToGPTSlots(e),i(this.getName(),n)})))}))}removeBids(e){var n;const i=(null===(n=t())||void 0===n?void 0:n.removeKeyValuePairsFromGPTSlots)||{},o=e.map((e=>e.getSlot()));i&&i(o)}}function L(e){let t=null;function n(e){const t=e;for(;e=e.previousElementSibling;)if(e.offsetParent)return e;for(e=t;e=e.nextElementSibling;)if(e.offsetParent)return e}for(;null===e.offsetParent;)t=n(e),e=t||e.parentNode;return e.getBoundingClientRect()}function N(e,t){return 0===t||function(e){const t=e.lazy,n=e.clientRect.top;return n<window.innerHeight*t&&n>0}({clientRect:L(e),lazy:t})}function D(e){return 0===e.getLazySetting()||(t=L(e.element)).top>=0&&t.left>=0&&t.right<=(window.innerWidth||document.documentElement.clientWidth)&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight);var t}function U(e){let t=e.getLazySetting();return 0===t||(t+=-.5,N(e.element,t))}let M=window.scrollY,q=!1;function $(){if(q)return;const e=C.getConfig(S,!1),t=K(D).filter((function(e){return!(j.getInstance().hasPendingBidRequest(e)||-1!==["Inread_Video","LoggedOut_PublicationWithoutFulltext_InReadVideo","LoggedOut_Post_InReadVideo"].indexOf(e.getSlotId())&&e.refreshCounter>0)})),n=t.map((function(e){return e.getGptSlot()}));n.length&&(t.forEach((function(e){e.setRequestTimestamp(Date.now());const t=e.getSlot();t.setTargeting("refreshCounter",[`${e.refreshCounter}`]),t.setTargeting("refresh",[e.refreshCounter>0?"true":"false"]);const n=e.generateAdCorrelationId();t.setTargeting("adCorrelationId",[n]),function(e){e&&T("rgAdRequest",R(e))}(e)})),e&&C.setConfigValue(S,!1),y("[AdManager] Calling refresh for ["+n.map((e=>e.getAdUnitPath())).join(",")+"]."),googletag.pubads().refresh(function(e){return e.map((e=>-1===e.getAdUnitPath().indexOf("Video")?{sortIndex:0,slot:e}:{sortIndex:1e4,slot:e})).sort(((e,t)=>e.sortIndex===t.sortIndex?0:e.sortIndex>t.sortIndex?1:-1)).map((({slot:e})=>e))}(n),{changeCorrelator:!1}),j.getInstance().removeBids(t),t.forEach((function(e){e.setGptRefresh()})))}class j{constructor(){this.bidders=[],this.blockedAdUnits={},this.pendingBids={},this.runningBids={},this.providers=function(){const e=[new O,new P],t=C.getConfig("bidders",[]),n=[];for(const i of e)-1!==t.indexOf(i.getName())&&n.push(i);return n}()}static getInstance(){return j.instance||(j.instance=new j),j.instance}hasPendingBidRequest(e){return!!this.blockedAdUnits[e.getId()]}init(){for(const e of this.providers)y(`Setting up ${e.getDisplayName()}`),e.init()}requestBids(){if(!this.providers.length)return;const e=K(U).filter((e=>!this.pendingBids[e.getId()]));if(!e.length)return;const t=d();for(const n of e)this.blockedAdUnits[n.getId()]=t,this.pendingBids[n.getId()]=t;this.runningBids[t]=[];const n=C.getConfig("bidderTimeout",k);setTimeout((()=>{this.runningBids[t]&&(y(`[${t}] Request Bids timed out after ${n} ms.`),this.removeBiddingAndRenderAds(t))}),n);const i=e.map((e=>e.getAdUnitPath()));for(const n of this.providers)try{n.requestBids(e,t,((e,t)=>{this.handleBidsBack(e,t)})),y(`[${t}] Request bids provider ${n.getDisplayName()} for adUnits [${i.join(", ")}].`)}catch(e){y(`[${t}] Error on request bids provider ${n.getDisplayName()} for adUnits [${i.join(", ")}].`),this.handleBidsBack(n.getName(),t)}}removeBiddingAndRenderAds(e){delete this.runningBids[e];for(const t in this.blockedAdUnits)this.blockedAdUnits[t]===e&&delete this.blockedAdUnits[t];$()}handleBidsBack(e,t){this.runningBids[t]&&-1===this.runningBids[t].indexOf(t)&&(this.runningBids[t].push(e),this.runningBids[t].length>=this.providers.length&&this.removeBiddingAndRenderAds(t))}removeBids(e){for(const t of e)delete this.pendingBids[t.getId()];for(const t of this.providers)t.removeBids(e)}}class V{constructor(e){if(this.advertiserId=null,this.lineItemId=null,this.creativeId=null,this.snippetId=null,this.isEmpty=null,this.serviceName=null,this.size=null,this.creativeTemplateId=null,this.gptRefresh=!1,this.lastRefresh=null,this.refreshCounter=0,this.refreshTimeout=null,this.refresh=!!this.refreshTimeout,this.id=e.id,this.adUnitPath=e.getAttribute("ad-unit-path"),this.onGptEvent=e.ongptevent,e.hasAttribute("ad-location")&&(this.adLocation=e.getAttribute("ad-location")),e.hasAttribute("ad-unit-sizes"))try{this.sizes=JSON.parse(e.getAttribute("ad-unit-sizes"))}catch(e){}if(Array.isArray(this.sizes)||(this.sizes=c(e.getElementsByTagName("rg-ad-size")).map((function(e){try{const t=e.getAttribute("size");return JSON.parse(t)}catch(e){return"fluid"}}))),this.sizeMappings=c(e.getElementsByTagName("rg-ad-sizeset")).map((function(e){try{return[JSON.parse(e.getAttribute("viewport-size")),JSON.parse(e.getAttribute("slot-sizes"))]}catch(e){return null}})).filter((e=>null!==e)),"Catfish"!==this.adLocation||this.sizeMappings&&this.sizeMappings.length||(this.sizeMappings=[[[0,0],[[320,50],[320,100],[300,50],[300,100]]],[[768,0],[]]]),this.sizeMappings.length>0){const e=x(this);e&&(this.sizes=e)}else 0===this.sizes.length&&(this.sizes=["fluid"]);if(e.hasAttribute("refresh-timeout")){const t=parseInt(e.getAttribute("refresh-timeout"));this.refreshTimeout=-1===t?C.getConfig("defaultRefreshTimeout",3e4):t}else this.refreshTimeout=0;e.hasAttribute("load-on-init")?this.loadOnInit="true"===e.getAttribute("load-on-init"):this.loadOnInit=!1,e.hasAttribute("collapse")&&(this.collapse=e.getAttribute("collapse")),-1===["Right","Top"].indexOf(this.adLocation)||"1"!==e.getAttribute("targeting-sequence")||h()||(this.loadOnInit=!0),this.targeting=function(e){const t={},n="targeting-";for(let i=0;i<e.attributes.length;i+=1){const o=e.attributes[i];0===o.name.indexOf(n)&&(t[o.name.slice(n.length)]=o.value.split(","))}return t}(e),e.classList.add("is-registered"),this.element=e,this.gptSlot=null,this.advertiserId=null,this.lineItemId=null,this.creativeId=null,this.isEmpty=null,this.serviceName=null,this.size=null,this.creativeTemplateId=null,this.gptRefresh=!1,this.lastRefresh=null,this.refreshCounter=0,this.refresh=!!this.refreshTimeout,this.snippetId=this.id,this.targeting.snippet_id=[this.snippetId]}createSlot(){this.gptSlot||(this.gptSlot=function(e){const t=googletag.defineSlot(e.getAdUnitPath(),e.isResponsive()?["fluid"]:e.getSizes(),e.getId()),n=e.getSlotId();if(e.isResponsive()){const n=googletag.sizeMapping();e.sizeMappings.forEach((e=>{n.addSize(e[0],e[1])})),t.defineSizeMapping(n.build())}else if(-1===["Native_Publication_Overview_Middle","Native_HomeFeed_ATF_Middle","Preview"].indexOf(n)){const i=googletag.sizeMapping();-1!==n.toLowerCase().indexOf("mobile")?(i.addSize([0,0],e.getSizes()),i.addSize([992,0],[])):(i.addSize([0,0],[]),i.addSize([992,0],e.getSizes())),t.defineSizeMapping(i.build())}t.addService(googletag.pubads()),te(n,"TargetingInfoSet"),function(e,t){switch(e){case"never":t.setCollapseEmptyDiv(!1);break;case"afterFetch":t.setCollapseEmptyDiv(!0);break;case"beforeFetch":t.setCollapseEmptyDiv(!0,!0)}}(e.collapse,t);const i=C.getConfig("targeting.variants",[]),o=e.getTargeting();return o&&Object.keys(o).forEach((e=>{const n=o[e];"variants"===e&&i.forEach((e=>{-1===n.indexOf(e)&&n.push(e)})),t.setTargeting(e,n)})),googletag.enableServices(),googletag.display(t.getSlotElementId()),t}(this))}getSlot(){return this.gptSlot}getLazySetting(){return C.getConfig("defaultLazyLoad",.5)}getAdUnitPath(){return this.adUnitPath}getSlotId(){return this.adUnitPath.split("/").pop()}getSizes(){return this.sizes||[[1,1]]}getId(){return this.id}setGptRefresh(){this.gptRefresh=!0,this.refreshCounter++,this.lastRefresh=Date.now()}resetGptRefresh(){this.gptRefresh=!1}resetGptSlot(){googletag.cmd.push((()=>{this.gptSlot&&(this.gptRefresh=!1,this.lastRefresh=null,googletag.pubads().clear([this.gptSlot]),j.getInstance().removeBids([this]))}))}setRequestTimestamp(e){this.requestTimestamp=e}generateAdCorrelationId(){return this.adCorrelationId=d(),this.adCorrelationId}disableRefresh(){this.refreshTimeout=0}isResponsive(){return this.sizeMappings.length>0}getGptRefresh(){return this.gptRefresh}isLoadOnInit(){return this.loadOnInit}getRefreshTimeout(){return this.refreshTimeout}getRequestTimestamp(){return this.requestTimestamp}getAdLocation(){return this.adLocation}getRefreshCounter(){return this.refreshCounter}getLastRefresh(){return this.lastRefresh}getGptSlot(){return this.gptSlot}getCollapse(){return this.collapse}getSizeMappings(){return this.sizeMappings}getTargeting(){return this.targeting}}let G=[];const H=()=>{let e=(t=document.querySelectorAll("rg-ad:not(.is-registered)"),Array.from(t));var t;const n=C.getConfig("whitelistedAdUnits",[]);n&&n.length>0&&(e.forEach((e=>{e.classList.add("is-registered")})),e=e.filter((e=>{const t=e.getAttribute("ad-unit-path");return-1!==n.indexOf(t)})));const i=e.map((function(e){const t=new V(e);return G.push(t),t}));i.length&&y(`Registered ${i.length} adUnits from rg-ad elements. [${i.map((e=>e.getAdUnitPath())).join(", ")}]`)},W=()=>G;function J(){return W().filter((e=>!e.getSlot()))}const F=e=>{const t=e.map((e=>e.getId()));G=G.filter((e=>-1===t.indexOf(e.getId())))};function K(e,t=!0){const n=C.getConfig(S,!1),i=C.getConfig("refreshDisabled",!1);return W().filter((e=>!e.gptRefresh&&document.body.contains(e.element))).filter((e=>!t||e.getSlot())).filter((e=>!i||e.refreshCounter<1)).filter((t=>n||t.loadOnInit||e(t)))}let Q=[],Y=!1,X=null;function Z(){X=null,Q.length>0&&(Q.filter((({type:e})=>-1!==["SlotRenderEnded"].indexOf(e))).length&&Q.push({type:"globalTargeting",targeting:C.getConfig(E,{})}),navigator.sendBeacon("/beacon/ads/v1/track",JSON.stringify(Q)),Q=[])}let ee={};function te(e,t,n,i){if(n||i){let i=0;n&&n.requestTimestamp&&(i=Date.now()-n.requestTimestamp,(i<0||i>6e4)&&(i=0));const r={mv:"1.196.0"},a=C.getConfig(A,null),d=C.getConfig("targeting.experimentVariant",null);if(n){const e=`${t}-${n.adCorrelationId}`;if(ee[e])return;ee[e]=!0,r.li=n.lineItemId,r.ci=n.creativeId,r.ct=n.creativeTemplateId,r.ai=n.advertiserId,r.ie=n.isEmpty,r.ck=a,r.va=d,r.aci=n.adCorrelationId;const i=n.getSlot();if(i){const e={};i.getTargetingKeys().forEach((t=>{e[t]=i.getTargeting(t)||[]})),r.ta=e}}!function(e,t,n,i){var r;!function(...e){b()&&s("log")&&o().log(I(e,"MESSAGE:"))}(`TrackLoading slot ${e} type ${t}`),r={slotId:e,type:t,msrs:n,...i},Q.push(r),Y||(window.addEventListener("beforeunload",Z),Y=!0),X||(X=setTimeout(Z,3e4))}(e,t,i,r)}}n(787);const ne=()=>{te("AdBlockCheck","AdBlockEnabled",null,!0),window.ga&&window.ga("send","event","Ads","AdBlockEnabled"),y("Ad blocker detected.")};function ie(e,t,n={}){const i=(o=e,document.getElementById(o));var o;i&&i.dispatchEvent(new CustomEvent("adUnitEvent",{detail:{...n,type:t}}))}const oe=e=>{let t=e.data;if("string"==typeof t)try{t=JSON.parse(t)}catch(e){t=void 0}if("object"!=typeof t)return;if(!t||!t.msg||!t.snippet)return;const{snippet:n,msg:i}=t,o=W(),s=r(o,n);s?"adInteract"===i?ie(n,"interact"):"disableRefresh"===i?(s.disableRefresh(),y(`Disabled refresh for adunit with snippetId ${n}.`)):y(`Unsupported message ${i}.`):y(`Could not find ad unit with snippetId ${n}.`)};function se(e,t){const{slot:n}=t;ie(n.getSlotElementId(),e,{gptEvent:t})}function re(e){const{slot:t}=e;y(`SlotRenderEndedEvent ${t.getAdUnitPath()} element ${t.getSlotElementId()}`);const n=W(),i=a(n,t);if(i){i.onGptEvent&&i.onGptEvent("slotRenderEnded",e),se("slotRenderEnded",e);const{creativeId:t,isEmpty:n,lineItemId:o,campaignId:s,advertiserId:r,serviceName:a,size:d,creativeTemplateId:g}=e;10007040===g&&i.disableRefresh(),Object.assign(i,{creativeId:t,isEmpty:n,lineItemId:o,campaignId:s,advertiserId:r,serviceName:a,size:d,creativeTemplateId:g}),te(i.getSlotId(),"SlotRenderEnded",i);const c=function(e){const{creativeId:t,isEmpty:n,lineItemId:i,advertiserId:o,serviceName:s,size:r,creativeTemplateId:a,refreshCounter:d}=e;return{renderCount:d,advertiserId:o,creativeId:t,lineItemId:i,isEmpty:n,serviceName:s,size:r,creativeTemplateId:a}}(i),u=C.getConfig(`adUnitChangeCallback.${i.snippetId}`);if(u&&u("updateSlot",c),e.isEmpty)l(i,"isEmpty");else{const e=C.getConfig("refreshingAdvertiserIds",[]);e&&e.length&&-1===e.indexOf(r)&&i.disableRefresh()}}e.isEmpty&&googletag.pubads().clear([t])}function ae(e){const{slot:t}=e;y(`SlotOnloadEvent ${t.getAdUnitPath()} element ${t.getSlotElementId()}`);const n=W(),i=a(n,t);i&&(i.onGptEvent&&i.onGptEvent("slotOnload",e),se("slotOnload",e),te(i.getSlotId(),"SlotOnload",i),l(i,"view"),function(e){e&&T("rgAdImpression",R(e))}(i))}function de(e){const{slot:t}=e;y(`ImpressionViewableEvent ${t.getAdUnitPath()} element ${t.getSlotElementId()}`);const n=W(),i=a(n,t);i&&(i.onGptEvent&&i.onGptEvent("impressionViewable",e),se("impressionViewable",e),te(i.getSlotId(),"ImpressionViewable",i),function(e){e&&T("rgAdViewableImpression",R(e))}(i))}const le=()=>{(()=>{const e=C.getConfig(E,{}),t=[];(window.pageConfig&&void 0!==window.pageConfig.isLitePage?window.pageConfig.isLitePage:document.getElementsByClassName("lite-page").length>0)&&t.push("lite-page"),null===m&&(m="TRUE"===v("force_test_ads").toUpperCase()),m&&(t.push("debug-ads"),y("Debugging for ads enabled, setting variants to debug-ads to force filled slots")),t.length&&(e.variants?t.forEach((t=>e.variants.push(t))):e.variants=t),e.managerVersion=["1.196.0"],Object.keys(e).forEach((t=>{let n=e[t];Array.isArray(n)||(n=[n]),googletag.pubads().setTargeting(t,n)})),C.setConfigValue(E,e),y("Page targeting set")})(),googletag.pubads().addEventListener("slotRenderEnded",re),googletag.pubads().addEventListener("slotOnload",ae),googletag.pubads().addEventListener("impressionViewable",de),window.cookieConsentConfig&&void 0!==window.cookieConsentConfig.googlePersonalization&&(window.cookieConsentConfig.googlePersonalization||(y("Setting non personalized ads"),googletag.pubads().setRequestNonPersonalizedAds(1))),"1"===p("google_restrict_data_processing")&&googletag.pubads().setPrivacySettings({restrictDataProcessing:!0});const e=C.getConfig("ppid",null);e&&googletag.pubads().setPublisherProvidedId(e),googletag.pubads().enableSingleRequest(),googletag.pubads().setCentering(!0),googletag.pubads().disableInitialLoad(),googletag.enableServices(),y("GPT services started"),W().forEach((e=>e.createSlot()))};let ge;class ce{constructor(){this.queue=[]}push(e){this.queue.push(e)}setCallback(e){this.queue.push=e}execute(e){this.queue.forEach(e)}}function ue(){return ge||(ge=new ce),ge}function he(e,t){const n=void 0===t?e.getLazySetting():t;return N(e.element,n)}const pe=()=>{if(!(()=>{let e="hidden";return void 0!==document.hidden?e="hidden":void 0!==document.msHidden?e="msHidden":void 0!==document.webkitHidden&&(e="webkitHidden"),"boolean"!=typeof document[e]||!document[e]})())return;if(function(){if(C.getConfig("disableFastScrollCheck",!1))return q=!1,q;const e=Math.abs(M-window.scrollY);return M=window.scrollY,q=e>500,q}())return;const e=Date.now(),t=W().filter((e=>e.gptRefresh&&e.refreshTimeout>0&&document.body.contains(e.element))).filter(he),n=t.filter((t=>e-t.lastRefresh>=t.refreshTimeout));t.length===n.length&&t.forEach((e=>e.resetGptRefresh())),j.getInstance().requestBids(),$()};function fe(){H(),J().length>0&&googletag.cmd.push((()=>J().forEach((e=>e.createSlot())))),pe()}const me=e=>e(),ve=e=>(e(),0);const be=e=>{const t=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){try{e(...arguments)}catch(e){}return t.apply(this,[].slice.call(arguments))}},ye=e=>{const t=e[1];if(!(e=>{const t=new URL(e);return"securepubads.g.doubleclick.net"===t.hostname&&"/gampad/ads"===t.pathname&&!(t.searchParams.has("cust_params")&&t.searchParams.has("prev_scp"))})(t))return;const n={adsUrl:t,targeting:C.getConfig(E,{})};navigator.sendBeacon("/beacon/ads/logTargeting",JSON.stringify(n))},we=["publisherDomain","bidderTimeout"],Ie=e=>{if(!g(e))return void w("delivery-manager can only be initialized with object as config.");if(C.getConfig("initialized"))return void w("delivery-manager can only be initialized once.");if(e.enableLogging&&(f=!0,y("Logging enabled.")),C.setConfig({...e,initialized:!0}),"boolean"!=typeof C.getConfig("gdprApplies"))return void w("gdprApplies is a mandatory config setting.");let t=!1;we.forEach((e=>{C.getConfig(e)||(w(`${e} is a mandatory config setting.`),t=!0)})),t||((()=>{const e=window.blockAdBlock;y("Checking for ad blocker."),void 0===e?ne():(e.onDetected(ne),e.onNotDetected((()=>{y("No ad blocker detected.")})),e.check())})(),C.getConfig("logAdTargeting",!1)&&be(ye),H(),googletag.cmd.push((()=>{i("message",oe,!1),le(),function(){if(!window.matchMedia||void 0===window.matchMedia("all").addEventListener)return;const e=[];W().forEach((t=>{const n=[];let i;for(t.sizeMappings.forEach((e=>{const t=Array.isArray(e[0][0])?e[0][0][0]:e[0][0];n.push(t)})),i=0;i<n.length;i++){const t=n[i],o=n[i+1];let s=`(min-width: ${t}px)`;o&&(s=`${s} and (max-width: ${o-1}px)`),-1===e.indexOf(s)&&(window.matchMedia(s).addEventListener("change",B),e.push(s))}}))}(),ue().execute(me),ue().setCallback(ve),j.getInstance().init(),pe(),function(){const e=window.MutationObserver;e&&new e((function(e){const t=[];e.forEach((e=>{Array.prototype.slice.call(e.addedNodes).forEach((e=>{"rg-ad"===e.tagName&&t.push(e)}))})),t.length>0&&fe()})).observe(document.body,{childList:!0})}(),setInterval(fe,250)})))};window.rgDelivery=window.rgDelivery||{},window.rgDelivery.cmd=window.rgDelivery.cmd||[];const _e=window.rgDelivery;function Ce(e){if("function"==typeof e)try{e.call(),e.called=!0}catch(e){w("Error processing command :",e.message,e.stack)}else w("Commands written into rgDelivery.cmd.push must be wrapped in a function")}y("AdsManager v1.196.0 loaded"),_e.setConfig=C.setConfig,_e.getConfig=C.getConfig,_e.initManager=e=>{"interactive"===document.readyState||"complete"===document.readyState?Ie(e):window.addEventListener("DOMContentLoaded",(()=>{Ie(e)}))},_e.startManager=()=>{},_e.registerAdSlot=()=>{},_e.unregisterAdSlot=e=>{e?googletag.cmd.push((()=>{const t=W().filter((t=>t.getId()===e));F(t);const n=t.map((e=>e.getSlot()));n.length&&googletag.destroySlots(n)})):w("SnippetId required for performing remove.")},_e.refreshAdSlot=e=>{e?googletag.cmd.push((()=>{const t=W().filter((t=>t.getId()===e)).map((e=>e.getSlot()));t.length>0&&(y(`Refreshing slots [${t.map((e=>e.getSlotElementId())).join(",")}]`),googletag.pubads().refresh(t))})):w("SnippetId required for performing refresh.")},_e.updateContextTargeting=e=>{if(!g(e))return void w("Targeting provided is not a valid targeting map.");const t={...C.getConfig(E,{}),...e};C.setConfigValue(E,t),Object.keys(t).forEach((e=>{let n=t[e];Array.isArray(n)||(n=[n]),googletag.pubads().setTargeting(e,n)}))},_e.refreshAdSlots=e=>{Array.isArray(e)&&e.length?googletag.cmd.push((()=>{const t=W().filter((t=>-1!==e.indexOf(t.getSlotId()))).map((e=>e.getSlot()));t.length>0&&(y(`Refreshing slots [${t.map((e=>e.getSlotElementId())).join(",")}]`),googletag.pubads().refresh(t))})):w("AdUnit codes required for refreshing.")},_e.cmd.push=Ce,_e.processQueue=function(){!function(e){e.forEach((function(e){void 0===e.called&&Ce(e)}))}(_e.cmd)},_e.processQueue()})()})();